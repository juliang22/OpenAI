{
  "name": "query_records",
  "description": "Query the _ record using filters. ",
  "parameters": {
    "type": "object",
    "properties": {
      "tableName": {
        "type": "string",
        "enum": ["Students", "Cases"],
        "description": "The table to query from."
      },
      "filters": {
        "type": "array",
        "items": {
          "type": "object",
          "properties": {
            "filterField": {
              "type": ["string", "integer", "number"],
              "description": "The field to filter the data by"
            },
            "filterOperator": {
              "type": "string",
              "description": "The operator to filter the data by"
            },
            "filterValue": {
              "type": ["string", "array", "integer", "null"],
              "description": "The value to filter the data by"
            }
          },
          "required": ["filterField", "filterOperator", "filterValue"],
          "allOf": [
            {
              "if": {
                "properties": {
                  "filterField": { "type": "string" }
                }
              },
              "then": {
                "properties": {
                  "filterOperator": {
                    "enum": ["between", "in", "not in", "is null", "not null", "starts with", "not starts with", "ends with", "not ends with", "includes", "not includes"]
                  }
                }
              }
            },
            {
              "if": {
                "properties": {
                  "filterField": { "type": ["integer", "number"] }
                }
              },
              "then": {
                "properties": {
                  "filterOperator": {
                    "enum": ["=", "<>", ">", ">=", "<", "<="]
                  }
                }
              }
            },
            {
              "if": {
                "properties": { "tableName": { "const": "Students" } }
              },
              "then": {
                "properties": {
                  "filterField": {
                    "enum": ["studentName", "studentDescription", "studentId"]
                  }
                }
              }
            },
            {
              "if": {
                "properties": { "tableName": { "const": "Cases" } }
              },
              "then": {
                "properties": {
                  "filterField": {
                    "enum": ["caseName", "caseDescription", "caseId"]
                  }
                }
              }
            }
          ]
        },
        "minItems": 1
      }
    },
    "required": ["tableName", "filters"]
  }
}
